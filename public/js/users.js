"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[681],{344:(t,e,i)=>{i.d(e,{Z:()=>a});var s=i(7897),o=i.n(s),l=i(1519),r=i.n(l)()(o());r.push([t.id,".badge[data-v-44ffb13c]{font-size:.7rem;margin-left:2px}","",{version:3,sources:["webpack://./resources/js/components/UserSettings/Users/Users.vue"],names:[],mappings:"AACA,wBACA,eAAA,CACA,eAEA",sourcesContent:['<style scoped>\n.badge{\n\tfont-size: 0.7rem;\n\tmargin-left: 2px;\n\t\n}\n</style>\n\n<style src="vue-multiselect/dist/vue-multiselect.min.css"></style>\n\n<template>\n\t<div>\n\t\t<div class="card-body">\n\t\t\t<div class="form-inline ml-2">\n\t\t\t\t<button class="btn btn-success btn-sm mr-2" @click="showCreateUserModal" v-if="$can(\'user_create\')">\n\t\t\t\t\t<i class="fas fa-plus-circle"></i><span><b> User</b></span>\n\t\t\t\t</button>\n\n                <button class="btn btn-secondary btn-sm mr-5" @click="getUsers">\n\t\t\t\t\t<i class="fas fa-sync-alt"></i>\n\t\t\t\t</button>\n\n\t\t\t\t<div class="input-group mr-2">\n\t\t\t\t\t<input v-model="filter.name" type="search" placeholder="Search by Name" class="form-control form-control-sidebar" aria-label="Search">\n\t\t\t\t\t<div class="input-group-append">\n\t\t\t\t\t\t<button type="sumbit" class="btn btn-sidebar" @click="getUsers">\n\t\t\t\t\t\t\t<i class="fas fa-search fa-fw"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n                <select v-model="filter.role_id" @change="getUsers" class="custom-select my-1 mr-sm-2" id="inlineFormCustomSelectPref">\n\t\t\t\t\t<option value=\'\'>Select Role</option>\n\t\t\t\t\t<option v-for=\'role in roles\' :value=\'role.id\' :key="role.id">{{ role.name }}</option>\n                </select>\n\t\t\t\t<select v-model="filter.is_active" @change="getUsers" class="custom-select my-1 mr-sm-2" id="inlineFormCustomSelectPref">\n\t\t\t\t\t<option value=\'\'>Select Status</option>\n\t\t\t\t\t<option value=\'0\'>Inactive</option>\n\t\t\t\t\t<option value=\'1\'>Active</option>\n                </select>\n\t\t\t\t<select v-model="filter.budget_id" @change="getUsers" class="custom-select my-1 mr-sm-2" id="inlineFormCustomSelectPref">\n\t\t\t\t\t<option value=\'\'>Select Budget</option>\n\t\t\t\t\t<option v-for=\'budget in budgets\' :value=\'budget.id\' :key="budget.id">{{ budget.name }}</option>\n                </select>                 \n            </div>\n\t\t\t<div class="row mt-3">\n\t\t\t\t<table class="border table table-hover">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>Full Name</th>\n\t\t\t\t\t\t\t<th>Email</th>\n\t\t\t\t\t\t\t<th>Registered At</th>\n\t\t\t\t\t\t\t<th>Roles</th>\n\t\t\t\t\t\t\t<th>Is Active</th>\n\t\t\t\t\t\t\t<th>Budget</th>\n\t\t\t\t\t\t\t<th>Actions</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr v-for="user in users" :key="user.id">\n\t\t\t\t\t\t\t<td>{{ user.full_name }}</td>\n\t\t\t\t\t\t\t<td>{{ user.email }}</td>\n\t\t\t\t\t\t\t<td>{{ user.created_at | myDateShort }}</td>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<span v-for="role in user.roles" :key="role.id" class="badge badge-pill badge-primary">{{role.name}}</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<span v-show="user.is_active == \'0\'" class="badge badge-pill badge-secondary">Inactive</span>\n                    \t\t\t<span v-show="user.is_active == \'1\'" class="badge badge-pill badge-success">Active</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td>{{ user.budget.name }}</td>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\x3c!-- <a class="clickable" @click="showEditUserModal(user)" v-if="$can(\'user_edit\')"> --\x3e\n\t\t\t\t\t\t\t\t<a class="clickable" @click="showEditUserModal(user)" v-if="$can(\'user_edit\')">\n\t\t\t\t\t\t\t\t\t<i class="fa fa-edit blue"></i>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<a class="clickable" @click="deleteUser(user.id)" v-if="$can(\'user_delete\')">\n\t\t\t\t\t\t\t\t\t<i class="fa fa-trash red"></i>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\n\t\t</div>\n\n\t\t\x3c!-- Modal --\x3e\n\t\t<UserModal \n\t\t:v-if="selectedUser.id"\n\t\t:editMode=\'editMode\' \n\t\t:selectedUser=\'selectedUser\' \n\t\tv-on:usersChanged="getUsers()">\n\t\t</UserModal>\n\n\t</div>\n</template>\n<script>\nimport Form from \'vform\'\nimport Multiselect from \'vue-multiselect\'\nimport UserModal from \'./UserModal\'\nimport axiosMixin from \'../../../mixins/axiosMixin\'\n\nexport default {\n\tcomponents: { \n\t\tMultiselect,\n\t\tUserModal,\n\t},\n\tmixins: [axiosMixin],\n\tdata() {\n\t\treturn {\n\t\t\teditMode: false,\n\t\t\tselectedUser: {},\n\t\t\tusers: {},\n\t\t\troles: [],\n\t\t\tbudgets: [],\n\t\t\tfilter: {\n\t\t\t\trole_id: \'\',\n\t\t\t\tis_active: \'\',\n\t\t\t\tname: \'\',\n\t\t\t\tbudget_id: \'\',\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\n\n\n\t\tshowCreateUserModal(){\n\t\t\tthis.editMode = false;\n\t\t\tthis.selectedUser = {};\n\t\t\t$(\'#userModal\').modal(\'show\')\n\t\t},\n\n\n\t\tshowEditUserModal(user){\n\t\t\tthis.editMode = true;\n\t\t\tthis.selectedUser = user;\n\t\t\t$(\'#userModal\').modal(\'show\')\n\t\t},\n\n\n\t\tdeleteUser(id){\n\t\t\tSwal.fire({\n\t\t\t\ttitle: \'Are you sure?\',\n\t\t\t\ttext: "You won\'t be able to revert this!",\n\t\t\t\ticon: \'warning\',\n\t\t\t\tshowCancelButton: true,\n\t\t\t\tconfirmButtonColor: \'#3085d6\',\n\t\t\t\tcancelButtonColor: \'#d33\',\n\t\t\t\tconfirmButtonText: \'Yes, delete it!\'\n\t\t\t})\n\t\t\t.then((result) => {\n\t\t\t\tif (result.isConfirmed) {\n\t\t\t\t\tthis.$Progress.start();\n\t\t\t\t\taxios.delete(\'/api/users/\'+id)\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t// success\n\t\t\t\t\t\tFire.$emit(\'usersChanged\');\n\t\t\t\t\t\tSwal.fire(\n\t\t\t\t\t\t\t\'Deleted!\',\n\t\t\t\t\t\t\t\'It has been deleted.\',\n\t\t\t\t\t\t\t\'success\'\n\t\t\t\t\t\t)\n\t\t\t\t\t\tthis.$Progress.finish();\n\t\t\t\t\t})\n\t\t\t\t\t.catch(() => {\n\t\t\t\t\t\tSwal("Failed!", "There was something wrong.", "warning");\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t},\n\n\tcreated() {\n\t\t// console.log($getPermissions());\n\t\t\n\t\tthis.getUsers();\n\t\tthis.getRoles();\n\t\tthis.getBudgets();\n\t\t\n\t\tFire.$on(\'usersChanged\', () => {\n\t\t\tthis.getUsers();\n\t\t});\n\n\t\t\n\t}\n}\n<\/script>'],sourceRoot:""}]);const a=r},8323:(t,e,i)=>{i.d(e,{Z:()=>a});var s=i(7897),o=i.n(s),l=i(1519),r=i.n(l)()(o());r.push([t.id,'fieldset[disabled] .multiselect{pointer-events:none}.multiselect__spinner{background:#fff;display:block;height:35px;position:absolute;right:1px;top:1px;width:48px}.multiselect__spinner:after,.multiselect__spinner:before{border:2px solid transparent;border-radius:100%;border-top-color:#41b883;box-shadow:0 0 0 1px transparent;content:"";height:16px;left:50%;margin:-8px 0 0 -8px;position:absolute;top:50%;width:16px}.multiselect__spinner:before{-webkit-animation:spinning 2.4s cubic-bezier(.41,.26,.2,.62);animation:spinning 2.4s cubic-bezier(.41,.26,.2,.62);-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.multiselect__spinner:after{-webkit-animation:spinning 2.4s cubic-bezier(.51,.09,.21,.8);animation:spinning 2.4s cubic-bezier(.51,.09,.21,.8);-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.multiselect__loading-enter-active,.multiselect__loading-leave-active{opacity:1;transition:opacity .4s ease-in-out}.multiselect__loading-enter,.multiselect__loading-leave-active{opacity:0}.multiselect,.multiselect__input,.multiselect__single{font-family:inherit;font-size:16px;touch-action:manipulation}.multiselect{box-sizing:content-box;color:#35495e;display:block;min-height:40px;position:relative;text-align:left;width:100%}.multiselect *{box-sizing:border-box}.multiselect:focus{outline:none}.multiselect--disabled{background:#ededed;opacity:.6;pointer-events:none}.multiselect--active{z-index:50}.multiselect--active:not(.multiselect--above) .multiselect__current,.multiselect--active:not(.multiselect--above) .multiselect__input,.multiselect--active:not(.multiselect--above) .multiselect__tags{border-bottom-left-radius:0;border-bottom-right-radius:0}.multiselect--active .multiselect__select{transform:rotate(180deg)}.multiselect--above.multiselect--active .multiselect__current,.multiselect--above.multiselect--active .multiselect__input,.multiselect--above.multiselect--active .multiselect__tags{border-top-left-radius:0;border-top-right-radius:0}.multiselect__input,.multiselect__single{background:#fff;border:none;border-radius:5px;box-sizing:border-box;display:inline-block;line-height:20px;margin-bottom:8px;min-height:20px;padding:0 0 0 5px;position:relative;transition:border .1s ease;vertical-align:top;width:100%}.multiselect__input:-ms-input-placeholder{color:#35495e}.multiselect__input::-moz-placeholder{color:#35495e}.multiselect__input::placeholder{color:#35495e}.multiselect__tag~.multiselect__input,.multiselect__tag~.multiselect__single{width:auto}.multiselect__input:hover,.multiselect__single:hover{border-color:#cfcfcf}.multiselect__input:focus,.multiselect__single:focus{border-color:#a8a8a8;outline:none}.multiselect__single{margin-bottom:8px;padding-left:5px}.multiselect__tags-wrap{display:inline}.multiselect__tags{background:#fff;border:1px solid #e8e8e8;border-radius:5px;display:block;font-size:14px;min-height:40px;padding:8px 40px 0 8px}.multiselect__tag{background:#41b883;border-radius:5px;color:#fff;display:inline-block;line-height:1;margin-bottom:5px;margin-right:10px;max-width:100%;overflow:hidden;padding:4px 26px 4px 10px;position:relative;text-overflow:ellipsis;white-space:nowrap}.multiselect__tag-icon{border-radius:5px;bottom:0;cursor:pointer;font-style:normal;font-weight:700;line-height:22px;margin-left:7px;position:absolute;right:0;text-align:center;top:0;transition:all .2s ease;width:22px}.multiselect__tag-icon:after{color:#266d4d;content:"\\D7";font-size:14px}.multiselect__tag-icon:focus,.multiselect__tag-icon:hover{background:#369a6e}.multiselect__tag-icon:focus:after,.multiselect__tag-icon:hover:after{color:#fff}.multiselect__current{border:1px solid #e8e8e8;border-radius:5px;min-height:40px;overflow:hidden;padding:8px 30px 0 12px;white-space:nowrap}.multiselect__current,.multiselect__select{box-sizing:border-box;cursor:pointer;display:block;line-height:16px;margin:0;text-decoration:none}.multiselect__select{height:38px;padding:4px 8px;position:absolute;right:1px;text-align:center;top:1px;transition:transform .2s ease;width:40px}.multiselect__select:before{border-color:#999 transparent transparent;border-style:solid;border-width:5px 5px 0;color:#999;content:"";margin-top:4px;position:relative;right:0;top:65%}.multiselect__placeholder{color:#adadad;display:inline-block;margin-bottom:10px;padding-top:2px}.multiselect--active .multiselect__placeholder{display:none}.multiselect__content-wrapper{-webkit-overflow-scrolling:touch;background:#fff;border:1px solid #e8e8e8;border-bottom-left-radius:5px;border-bottom-right-radius:5px;border-top:none;display:block;max-height:240px;overflow:auto;position:absolute;width:100%;z-index:50}.multiselect__content{display:inline-block;list-style:none;margin:0;min-width:100%;padding:0;vertical-align:top}.multiselect--above .multiselect__content-wrapper{border-bottom:none;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top:1px solid #e8e8e8;border-top-left-radius:5px;border-top-right-radius:5px;bottom:100%}.multiselect__content::webkit-scrollbar{display:none}.multiselect__element{display:block}.multiselect__option{cursor:pointer;display:block;line-height:16px;min-height:40px;padding:12px;position:relative;text-decoration:none;text-transform:none;vertical-align:middle;white-space:nowrap}.multiselect__option:after{font-size:13px;line-height:40px;padding-left:20px;padding-right:12px;position:absolute;right:0;top:0}.multiselect__option--highlight{background:#41b883;color:#fff;outline:none}.multiselect__option--highlight:after{background:#41b883;color:#fff;content:attr(data-select)}.multiselect__option--selected{background:#f3f3f3;color:#35495e;font-weight:700}.multiselect__option--selected:after{color:silver;content:attr(data-selected)}.multiselect__option--selected.multiselect__option--highlight{background:#ff6a6a;color:#fff}.multiselect__option--selected.multiselect__option--highlight:after{background:#ff6a6a;color:#fff;content:attr(data-deselect)}.multiselect--disabled .multiselect__current,.multiselect--disabled .multiselect__select{background:#ededed;color:#a6a6a6}.multiselect__option--disabled{background:#ededed!important;color:#a6a6a6!important;cursor:text;pointer-events:none}.multiselect__option--group{background:#ededed;color:#35495e}.multiselect__option--group.multiselect__option--highlight{background:#35495e;color:#fff}.multiselect__option--group.multiselect__option--highlight:after{background:#35495e}.multiselect__option--disabled.multiselect__option--highlight{background:#dedede}.multiselect__option--group-selected.multiselect__option--highlight{background:#ff6a6a;color:#fff}.multiselect__option--group-selected.multiselect__option--highlight:after{background:#ff6a6a;color:#fff;content:attr(data-deselect)}.multiselect-enter-active,.multiselect-leave-active{transition:all .15s ease}.multiselect-enter,.multiselect-leave-active{opacity:0}.multiselect__strong{display:inline-block;line-height:20px;margin-bottom:8px;vertical-align:top}[dir=rtl] .multiselect{text-align:right}[dir=rtl] .multiselect__select{left:1px;right:auto}[dir=rtl] .multiselect__tags{padding:8px 8px 0 40px}[dir=rtl] .multiselect__content{text-align:right}[dir=rtl] .multiselect__option:after{left:0;right:auto}[dir=rtl] .multiselect__clear{left:12px;right:auto}[dir=rtl] .multiselect__spinner{left:1px;right:auto}@-webkit-keyframes spinning{0%{transform:rotate(0)}to{transform:rotate(2turn)}}@keyframes spinning{0%{transform:rotate(0)}to{transform:rotate(2turn)}}',"",{version:3,sources:["webpack://./node_modules/vue-multiselect/dist/vue-multiselect.min.css"],names:[],mappings:"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",sourcesContent:['fieldset[disabled] .multiselect{pointer-events:none}.multiselect__spinner{position:absolute;right:1px;top:1px;width:48px;height:35px;background:#fff;display:block}.multiselect__spinner:after,.multiselect__spinner:before{position:absolute;content:"";top:50%;left:50%;margin:-8px 0 0 -8px;width:16px;height:16px;border-radius:100%;border:2px solid transparent;border-top-color:#41b883;box-shadow:0 0 0 1px transparent}.multiselect__spinner:before{animation:spinning 2.4s cubic-bezier(.41,.26,.2,.62);animation-iteration-count:infinite}.multiselect__spinner:after{animation:spinning 2.4s cubic-bezier(.51,.09,.21,.8);animation-iteration-count:infinite}.multiselect__loading-enter-active,.multiselect__loading-leave-active{transition:opacity .4s ease-in-out;opacity:1}.multiselect__loading-enter,.multiselect__loading-leave-active{opacity:0}.multiselect,.multiselect__input,.multiselect__single{font-family:inherit;font-size:16px;-ms-touch-action:manipulation;touch-action:manipulation}.multiselect{box-sizing:content-box;display:block;position:relative;width:100%;min-height:40px;text-align:left;color:#35495e}.multiselect *{box-sizing:border-box}.multiselect:focus{outline:none}.multiselect--disabled{background:#ededed;pointer-events:none;opacity:.6}.multiselect--active{z-index:50}.multiselect--active:not(.multiselect--above) .multiselect__current,.multiselect--active:not(.multiselect--above) .multiselect__input,.multiselect--active:not(.multiselect--above) .multiselect__tags{border-bottom-left-radius:0;border-bottom-right-radius:0}.multiselect--active .multiselect__select{transform:rotate(180deg)}.multiselect--above.multiselect--active .multiselect__current,.multiselect--above.multiselect--active .multiselect__input,.multiselect--above.multiselect--active .multiselect__tags{border-top-left-radius:0;border-top-right-radius:0}.multiselect__input,.multiselect__single{position:relative;display:inline-block;min-height:20px;line-height:20px;border:none;border-radius:5px;background:#fff;padding:0 0 0 5px;width:100%;transition:border .1s ease;box-sizing:border-box;margin-bottom:8px;vertical-align:top}.multiselect__input:-ms-input-placeholder{color:#35495e}.multiselect__input::placeholder{color:#35495e}.multiselect__tag~.multiselect__input,.multiselect__tag~.multiselect__single{width:auto}.multiselect__input:hover,.multiselect__single:hover{border-color:#cfcfcf}.multiselect__input:focus,.multiselect__single:focus{border-color:#a8a8a8;outline:none}.multiselect__single{padding-left:5px;margin-bottom:8px}.multiselect__tags-wrap{display:inline}.multiselect__tags{min-height:40px;display:block;padding:8px 40px 0 8px;border-radius:5px;border:1px solid #e8e8e8;background:#fff;font-size:14px}.multiselect__tag{position:relative;display:inline-block;padding:4px 26px 4px 10px;border-radius:5px;margin-right:10px;color:#fff;line-height:1;background:#41b883;margin-bottom:5px;white-space:nowrap;overflow:hidden;max-width:100%;text-overflow:ellipsis}.multiselect__tag-icon{cursor:pointer;margin-left:7px;position:absolute;right:0;top:0;bottom:0;font-weight:700;font-style:normal;width:22px;text-align:center;line-height:22px;transition:all .2s ease;border-radius:5px}.multiselect__tag-icon:after{content:"\\D7";color:#266d4d;font-size:14px}.multiselect__tag-icon:focus,.multiselect__tag-icon:hover{background:#369a6e}.multiselect__tag-icon:focus:after,.multiselect__tag-icon:hover:after{color:#fff}.multiselect__current{min-height:40px;overflow:hidden;padding:8px 30px 0 12px;white-space:nowrap;border-radius:5px;border:1px solid #e8e8e8}.multiselect__current,.multiselect__select{line-height:16px;box-sizing:border-box;display:block;margin:0;text-decoration:none;cursor:pointer}.multiselect__select{position:absolute;width:40px;height:38px;right:1px;top:1px;padding:4px 8px;text-align:center;transition:transform .2s ease}.multiselect__select:before{position:relative;right:0;top:65%;color:#999;margin-top:4px;border-color:#999 transparent transparent;border-style:solid;border-width:5px 5px 0;content:""}.multiselect__placeholder{color:#adadad;display:inline-block;margin-bottom:10px;padding-top:2px}.multiselect--active .multiselect__placeholder{display:none}.multiselect__content-wrapper{position:absolute;display:block;background:#fff;width:100%;max-height:240px;overflow:auto;border:1px solid #e8e8e8;border-top:none;border-bottom-left-radius:5px;border-bottom-right-radius:5px;z-index:50;-webkit-overflow-scrolling:touch}.multiselect__content{list-style:none;display:inline-block;padding:0;margin:0;min-width:100%;vertical-align:top}.multiselect--above .multiselect__content-wrapper{bottom:100%;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:5px;border-top-right-radius:5px;border-bottom:none;border-top:1px solid #e8e8e8}.multiselect__content::webkit-scrollbar{display:none}.multiselect__element{display:block}.multiselect__option{display:block;padding:12px;min-height:40px;line-height:16px;text-decoration:none;text-transform:none;vertical-align:middle;position:relative;cursor:pointer;white-space:nowrap}.multiselect__option:after{top:0;right:0;position:absolute;line-height:40px;padding-right:12px;padding-left:20px;font-size:13px}.multiselect__option--highlight{background:#41b883;outline:none;color:#fff}.multiselect__option--highlight:after{content:attr(data-select);background:#41b883;color:#fff}.multiselect__option--selected{background:#f3f3f3;color:#35495e;font-weight:700}.multiselect__option--selected:after{content:attr(data-selected);color:silver}.multiselect__option--selected.multiselect__option--highlight{background:#ff6a6a;color:#fff}.multiselect__option--selected.multiselect__option--highlight:after{background:#ff6a6a;content:attr(data-deselect);color:#fff}.multiselect--disabled .multiselect__current,.multiselect--disabled .multiselect__select{background:#ededed;color:#a6a6a6}.multiselect__option--disabled{background:#ededed!important;color:#a6a6a6!important;cursor:text;pointer-events:none}.multiselect__option--group{background:#ededed;color:#35495e}.multiselect__option--group.multiselect__option--highlight{background:#35495e;color:#fff}.multiselect__option--group.multiselect__option--highlight:after{background:#35495e}.multiselect__option--disabled.multiselect__option--highlight{background:#dedede}.multiselect__option--group-selected.multiselect__option--highlight{background:#ff6a6a;color:#fff}.multiselect__option--group-selected.multiselect__option--highlight:after{background:#ff6a6a;content:attr(data-deselect);color:#fff}.multiselect-enter-active,.multiselect-leave-active{transition:all .15s ease}.multiselect-enter,.multiselect-leave-active{opacity:0}.multiselect__strong{margin-bottom:8px;line-height:20px;display:inline-block;vertical-align:top}[dir=rtl] .multiselect{text-align:right}[dir=rtl] .multiselect__select{right:auto;left:1px}[dir=rtl] .multiselect__tags{padding:8px 8px 0 40px}[dir=rtl] .multiselect__content{text-align:right}[dir=rtl] .multiselect__option:after{right:auto;left:0}[dir=rtl] .multiselect__clear{right:auto;left:12px}[dir=rtl] .multiselect__spinner{right:auto;left:1px}@keyframes spinning{0%{transform:rotate(0)}to{transform:rotate(2turn)}}'],sourceRoot:""}]);const a=r},4411:(t,e,i)=>{i.r(e),i.d(e,{default:()=>_});var s=i(5714),o=i(7907),l=i.n(o),r=i(5480);const a={mixins:[r.Z],components:{Multiselect:l()},props:{userEditMode:Boolean,selectedUser:Object},data:function(){return{users:{},roles:[],budgets:[],userForm:new s.ZP({id:"",first_name:"",last_name:"",email:"",password:"",photo:"",roles:[],budget_id:"",is_active:""})}},watch:{selectedUser:function(t,e){this.userEditMode?this.userForm.fill(this.selectedUser):this.resetUserForm()}},methods:{resetUserForm:function(){this.userForm.id="",this.userForm.first_name="",this.userForm.last_name="",this.userForm.email="",this.userForm.password="",this.userForm.photo="",this.userForm.roles=[],this.userForm.budget_id="",this.userForm.is_active=!1},createUser:function(){var t=this;this.$Progress.start(),this.userForm.post("/api/users").then((function(){Fire.$emit("usersChanged"),$("#userModal").modal("hide"),Toast.fire({icon:"success",title:"Added successfully"}),t.$Progress.finish()})).catch((function(){t.$Progress.fail()}))},updateUser:function(){var t=this;this.$Progress.start(),this.userForm.put("/api/users/"+this.userForm.id).then((function(){Fire.$emit("usersChanged"),$("#userModal").modal("hide"),Swal.fire("Updated!","It has been updated.","success"),t.$Progress.finish()})).catch((function(){t.$Progress.fail()}))}},created:function(){this.getRoles(),this.getBudgets()}};var n=i(1900);const A=(0,n.Z)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal fade",attrs:{id:"userModal",tabindex:"-1","aria-labelledby":"userModalLabel","aria-hidden":"true"}},[i("div",{staticClass:"modal-dialog modal-dialog-centered"},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("h5",{directives:[{name:"show",rawName:"v-show",value:!t.userEditMode,expression:"!userEditMode"}],staticClass:"modal-title",attrs:{id:"userModalLabel"}},[t._v("Create New User")]),t._v(" "),i("h5",{directives:[{name:"show",rawName:"v-show",value:t.userEditMode,expression:"userEditMode"}],staticClass:"modal-title",attrs:{id:"userModalLabel"}},[t._v("Edit User")]),t._v(" "),t._m(0)]),t._v(" "),i("form",{on:{submit:function(e){e.preventDefault(),t.userEditMode?t.updateUser():t.createUser()}}},[i("div",{staticClass:"modal-body"},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("First Name")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.userForm.first_name,expression:"userForm.first_name"}],staticClass:"form-control",attrs:{id:"name",type:"text",name:"name"},domProps:{value:t.userForm.first_name},on:{input:function(e){e.target.composing||t.$set(t.userForm,"first_name",e.target.value)}}}),t._v(" "),i("HasError",{attrs:{form:t.userForm,field:"first_name"}})],1),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Last Name")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.userForm.last_name,expression:"userForm.last_name"}],staticClass:"form-control",attrs:{id:"name",type:"text",name:"name"},domProps:{value:t.userForm.last_name},on:{input:function(e){e.target.composing||t.$set(t.userForm,"last_name",e.target.value)}}}),t._v(" "),i("HasError",{attrs:{form:t.userForm,field:"last_name"}})],1),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"form-label",attrs:{for:"email"}},[t._v("Email")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.userForm.email,expression:"userForm.email"}],staticClass:"form-control",attrs:{id:"email",type:"email",name:"email"},domProps:{value:t.userForm.email},on:{input:function(e){e.target.composing||t.$set(t.userForm,"email",e.target.value)}}}),t._v(" "),i("HasError",{attrs:{form:t.userForm,field:"email"}})],1),t._v(" "),t.roles?i("div",{staticClass:"form-group"},[i("label",{staticClass:"typo__label"},[t._v("Roles")]),t._v(" "),i("multiselect",{attrs:{options:t.roles,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,placeholder:"Pick some",label:"name","track-by":"name","preselect-first":!0},model:{value:t.userForm.roles,callback:function(e){t.$set(t.userForm,"roles",e)},expression:"userForm.roles"}})],1):t._e(),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"form-label",attrs:{for:"budget_id"}},[t._v("Budget")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.userForm.budget_id,expression:"userForm.budget_id"}],staticClass:"form-control",class:{"is-invalid":t.userForm.errors.has("budget_id")},attrs:{name:"budget_id",id:"budget_id"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.userForm,"budget_id",e.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[t._v("Choose...")]),t._v(" "),t._l(t.budgets,(function(e){return i("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2),t._v(" "),i("HasError",{attrs:{form:t.userForm,field:"budget_id"}})],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.userEditMode,expression:"!userEditMode"}],staticClass:"form-group"},[i("label",{staticClass:"form-label",attrs:{for:"password"}},[t._v("Password")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.userForm.password,expression:"userForm.password"}],staticClass:"form-control",class:{"is-invalid":t.userForm.errors.has("password")},attrs:{type:"password",name:"password",id:"password"},domProps:{value:t.userForm.password},on:{input:function(e){e.target.composing||t.$set(t.userForm,"password",e.target.value)}}}),t._v(" "),i("has-error",{attrs:{form:t.userForm,field:"password"}})],1),t._v(" "),i("div",{staticClass:"form-group form-check"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.userForm.is_active,expression:"userForm.is_active"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"is_active"},domProps:{checked:Array.isArray(t.userForm.is_active)?t._i(t.userForm.is_active,null)>-1:t.userForm.is_active},on:{change:function(e){var i=t.userForm.is_active,s=e.target,o=!!s.checked;if(Array.isArray(i)){var l=t._i(i,null);s.checked?l<0&&t.$set(t.userForm,"is_active",i.concat([null])):l>-1&&t.$set(t.userForm,"is_active",i.slice(0,l).concat(i.slice(l+1)))}else t.$set(t.userForm,"is_active",o)}}}),t._v(" "),i("label",{staticClass:"form-check-label",attrs:{for:"is_active"}},[t._v("Active?")])])]),t._v(" "),i("div",{staticClass:"modal-footer"},[i("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),t._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:!t.userEditMode,expression:"!userEditMode"}],staticClass:"btn btn-success",attrs:{type:"submit"}},[t._v("Create")]),t._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:t.userEditMode,expression:"userEditMode"}],staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Update")])])])])])])}),[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],!1,null,null,null).exports,c={components:{Multiselect:l(),UserModal:A},mixins:[r.Z],data:function(){return{editMode:!1,selectedUser:{},users:{},roles:[],budgets:[],filter:{role_id:"",is_active:"",name:"",budget_id:""}}},methods:{showCreateUserModal:function(){this.editMode=!1,this.selectedUser={},$("#userModal").modal("show")},showEditUserModal:function(t){this.editMode=!0,this.selectedUser=t,$("#userModal").modal("show")},deleteUser:function(t){var e=this;Swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(i){i.isConfirmed&&(e.$Progress.start(),axios.delete("/api/users/"+t).then((function(){Fire.$emit("usersChanged"),Swal.fire("Deleted!","It has been deleted.","success"),e.$Progress.finish()})).catch((function(){Swal("Failed!","There was something wrong.","warning")})))}))}},created:function(){var t=this;this.getUsers(),this.getRoles(),this.getBudgets(),Fire.$on("usersChanged",(function(){t.getUsers()}))}};var d=i(3379),u=i.n(d),m=i(344),p={insert:"head",singleton:!1};u()(m.Z,p);m.Z.locals;i(9044);const _=(0,n.Z)(c,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"card-body"},[i("div",{staticClass:"form-inline ml-2"},[t.$can("user_create")?i("button",{staticClass:"btn btn-success btn-sm mr-2",on:{click:t.showCreateUserModal}},[i("i",{staticClass:"fas fa-plus-circle"}),t._m(0)]):t._e(),t._v(" "),i("button",{staticClass:"btn btn-secondary btn-sm mr-5",on:{click:t.getUsers}},[i("i",{staticClass:"fas fa-sync-alt"})]),t._v(" "),i("div",{staticClass:"input-group mr-2"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.name,expression:"filter.name"}],staticClass:"form-control form-control-sidebar",attrs:{type:"search",placeholder:"Search by Name","aria-label":"Search"},domProps:{value:t.filter.name},on:{input:function(e){e.target.composing||t.$set(t.filter,"name",e.target.value)}}}),t._v(" "),i("div",{staticClass:"input-group-append"},[i("button",{staticClass:"btn btn-sidebar",attrs:{type:"sumbit"},on:{click:t.getUsers}},[i("i",{staticClass:"fas fa-search fa-fw"})])])]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.role_id,expression:"filter.role_id"}],staticClass:"custom-select my-1 mr-sm-2",attrs:{id:"inlineFormCustomSelectPref"},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.filter,"role_id",e.target.multiple?i:i[0])},t.getUsers]}},[i("option",{attrs:{value:""}},[t._v("Select Role")]),t._v(" "),t._l(t.roles,(function(e){return i("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.is_active,expression:"filter.is_active"}],staticClass:"custom-select my-1 mr-sm-2",attrs:{id:"inlineFormCustomSelectPref"},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.filter,"is_active",e.target.multiple?i:i[0])},t.getUsers]}},[i("option",{attrs:{value:""}},[t._v("Select Status")]),t._v(" "),i("option",{attrs:{value:"0"}},[t._v("Inactive")]),t._v(" "),i("option",{attrs:{value:"1"}},[t._v("Active")])]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.budget_id,expression:"filter.budget_id"}],staticClass:"custom-select my-1 mr-sm-2",attrs:{id:"inlineFormCustomSelectPref"},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.filter,"budget_id",e.target.multiple?i:i[0])},t.getUsers]}},[i("option",{attrs:{value:""}},[t._v("Select Budget")]),t._v(" "),t._l(t.budgets,(function(e){return i("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)]),t._v(" "),i("div",{staticClass:"row mt-3"},[i("table",{staticClass:"border table table-hover"},[t._m(1),t._v(" "),i("tbody",t._l(t.users,(function(e){return i("tr",{key:e.id},[i("td",[t._v(t._s(e.full_name))]),t._v(" "),i("td",[t._v(t._s(e.email))]),t._v(" "),i("td",[t._v(t._s(t._f("myDateShort")(e.created_at)))]),t._v(" "),i("td",t._l(e.roles,(function(e){return i("span",{key:e.id,staticClass:"badge badge-pill badge-primary"},[t._v(t._s(e.name))])})),0),t._v(" "),i("td",[i("span",{directives:[{name:"show",rawName:"v-show",value:"0"==e.is_active,expression:"user.is_active == '0'"}],staticClass:"badge badge-pill badge-secondary"},[t._v("Inactive")]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:"1"==e.is_active,expression:"user.is_active == '1'"}],staticClass:"badge badge-pill badge-success"},[t._v("Active")])]),t._v(" "),i("td",[t._v(t._s(e.budget.name))]),t._v(" "),i("td",[t.$can("user_edit")?i("a",{staticClass:"clickable",on:{click:function(i){return t.showEditUserModal(e)}}},[i("i",{staticClass:"fa fa-edit blue"})]):t._e(),t._v(" "),t.$can("user_delete")?i("a",{staticClass:"clickable",on:{click:function(i){return t.deleteUser(e.id)}}},[i("i",{staticClass:"fa fa-trash red"})]):t._e()])])})),0)])])]),t._v(" "),i("UserModal",{attrs:{"v-if":t.selectedUser.id,editMode:t.editMode,selectedUser:t.selectedUser},on:{usersChanged:function(e){return t.getUsers()}}})],1)}),[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",[i("b",[t._v(" User")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",[t._v("Full Name")]),t._v(" "),i("th",[t._v("Email")]),t._v(" "),i("th",[t._v("Registered At")]),t._v(" "),i("th",[t._v("Roles")]),t._v(" "),i("th",[t._v("Is Active")]),t._v(" "),i("th",[t._v("Budget")]),t._v(" "),i("th",[t._v("Actions")])])])}],!1,null,"44ffb13c",null).exports},9044:(t,e,i)=>{var s=i(3379),o=i.n(s),l=i(8323),r={insert:"head",singleton:!1};o()(l.Z,r);l.Z.locals}}]);
//# sourceMappingURL=users.js.map