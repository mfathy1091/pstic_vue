"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[891],{6174:(e,t,r)=>{r.r(t),r.d(t,{default:()=>o});var a=r(5714);const s={mixins:[r(5480).Z],data:function(){return{editMode:!1,referralSources:{},form:new a.ZP({id:"",name:""})}},methods:{showCreateReferralSourceModal:function(){this.editMode=!1,this.form.reset(),$("#referralSourceModal").modal("show")},createReferralSource:function(){var e=this;this.$Progress.start(),this.form.post("/api/referral_sources").then((function(){Fire.$emit("referralSourcesChanged"),$("#referralSourceModal").modal("hide"),Toast.fire({icon:"success",title:"Added successfully"}),e.$Progress.finish()})).catch((function(){e.$Progress.fail()}))},showEditreferralSourceModal:function(e){this.editMode=!0,this.form.reset(),$("#referralSourceModal").modal("show"),this.form.fill(e)},updateReferralSource:function(){var e=this;this.$Progress.start(),this.form.put("/api/referral_sources/"+this.form.id).then((function(){Fire.$emit("referralSourcesChanged"),$("#referralSourceModal").modal("hide"),Swal.fire("Updated!","It has been updated.","success"),e.$Progress.finish()})).catch((function(){e.$Progress.fail()}))},deleteReferralSource:function(e){var t=this;Swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(r){r.isConfirmed&&(t.$Progress.start(),t.form.delete("/api/referral_sources/"+e).then((function(){Fire.$emit("referralSourcesChanged"),Swal.fire("Deleted!","It has been deleted.","success"),t.$Progress.finish()})).catch((function(){Swal("Failed!","There was something wrong.","warning")})))}))}},created:function(){var e=this;this.getReferralSources(),Fire.$on("referralSourcesChanged",(function(){e.getReferralSources()}))}};const o=(0,r(1900).Z)(s,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"card-body"},[r("div",{staticClass:"form-inline ml-2"},[r("button",{staticClass:"btn btn-success btn-sm mr-2",on:{click:e.showCreateReferralSourceModal}},[r("i",{staticClass:"fas fa-plus-circle"}),e._m(0)]),e._v(" "),r("button",{staticClass:"btn btn-secondary btn-sm mr-5",on:{click:e.getReferralSources}},[r("i",{staticClass:"fas fa-sync-alt"})]),e._v(" "),r("select",{staticClass:"custom-select my-1 mr-sm-2",attrs:{id:"inlineFormCustomSelectPref"},on:{change:e.getNationalities}},[r("option",{attrs:{value:"-1",disabled:""}},[e._v("Worker...")])])]),e._v(" "),r("div",{staticClass:"row mt-3"},[r("table",{staticClass:"border table table-hover"},[e._m(1),e._v(" "),e.referralSources?r("tbody",e._l(e.referralSources,(function(t){return r("tr",{key:t.id},[r("td",[e._v(e._s(t.name))]),e._v(" "),r("td",[r("span",{staticClass:"clickable ml-2",on:{click:function(r){return e.showEditreferralSourceModal(t)}}},[r("i",{staticClass:"fas fa-pencil-alt blue"})]),e._v(" "),r("span",{staticClass:"clickable ml-2",on:{click:function(r){return e.deleteReferralSource(t.id)}}},[r("i",{staticClass:"fa fa-trash red"})])])])})),0):e._e()])])]),e._v(" "),r("div",{staticClass:"modal fade",attrs:{id:"referralSourceModal",tabindex:"-1","aria-labelledby":"referralSourceModalLabel","aria-hidden":"true"}},[r("div",{staticClass:"modal-dialog modal-dialog-centered"},[r("div",{staticClass:"modal-content"},[r("div",{staticClass:"modal-header"},[r("h5",{directives:[{name:"show",rawName:"v-show",value:!e.editMode,expression:"!editMode"}],staticClass:"modal-title",attrs:{id:"referralSourceModalLabel"}},[e._v("Create New ReferralSource")]),e._v(" "),r("h5",{directives:[{name:"show",rawName:"v-show",value:e.editMode,expression:"editMode"}],staticClass:"modal-title",attrs:{id:"referralSourceModalLabel"}},[e._v("Edit ReferralSource")]),e._v(" "),e._m(2)]),e._v(" "),r("form",{on:{submit:function(t){t.preventDefault(),e.editMode?e.updateReferralSource():e.createReferralSource()}}},[r("div",{staticClass:"modal-body"},[r("div",{staticClass:"form-group"},[r("label",{staticClass:"form-label",attrs:{for:"name"}},[e._v("Name")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text",name:"name"},domProps:{value:e.form.name},on:{input:function(t){t.target.composing||e.$set(e.form,"name",t.target.value)}}}),e._v(" "),r("HasError",{attrs:{form:e.form,field:"name"}})],1)]),e._v(" "),r("div",{staticClass:"modal-footer"},[r("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Close")]),e._v(" "),r("button",{directives:[{name:"show",rawName:"v-show",value:!e.editMode,expression:"!editMode"}],staticClass:"btn btn-success",attrs:{type:"submit"}},[e._v("Create")]),e._v(" "),r("button",{directives:[{name:"show",rawName:"v-show",value:e.editMode,expression:"editMode"}],staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("Update")])])])])])])])}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",[r("b",[e._v(" Referral Source")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("th",[e._v("Name")]),e._v(" "),r("th",[e._v("Modify")])])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[r("span",{attrs:{"aria-hidden":"true"}},[e._v("Ã—")])])}],!1,null,null,null).exports}}]);
//# sourceMappingURL=referralSources.js.map