"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[941],{621:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var s=a(5714);const r={mixins:[a(5480).Z],data:function(){return{editMode:!1,referralReasons:[],form:new s.ZP({id:"",name:""})}},methods:{showCreateReferralReasonModal:function(){this.editMode=!1,this.form.reset(),$("#referralReasonModal").modal("show")},createReferralReason:function(){var e=this;this.$Progress.start(),this.form.post("/api/referral_reasons").then((function(){Fire.$emit("referralReasonsChanged"),$("#referralReasonModal").modal("hide"),Toast.fire({icon:"success",title:"Added successfully"}),e.$Progress.finish()})).catch((function(){e.$Progress.fail()}))},showEditReferralReasonModal:function(e){this.editMode=!0,this.form.reset(),$("#referralReasonModal").modal("show"),this.form.fill(e)},updateReferralReason:function(){var e=this;this.$Progress.start(),this.form.put("/api/referral_reasons/"+this.form.id).then((function(){Fire.$emit("referralReasonsChanged"),$("#referralReasonModal").modal("hide"),Swal.fire("Updated!","It has been updated.","success"),e.$Progress.finish()})).catch((function(){e.$Progress.fail()}))},deleteReferralReason:function(e){var t=this;Swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(a){a.isConfirmed&&(t.$Progress.start(),t.form.delete("/api/referral_reasons/"+e).then((function(){Fire.$emit("referralReasonsChanged"),Swal.fire("Deleted!","It has been deleted.","success"),t.$Progress.finish()})).catch((function(){Swal("Failed!","There was something wrong.","warning")})))}))}},created:function(){var e=this;this.getReferralReasons(),Fire.$on("referralReasonsChanged",(function(){e.getReferralReasons()}))}};const o=(0,a(1900).Z)(r,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"card-body"},[a("div",{staticClass:"form-inline ml-2"},[a("button",{staticClass:"btn btn-success btn-sm mr-2",on:{click:e.showCreateReferralReasonModal}},[a("i",{staticClass:"fas fa-plus-circle"}),e._m(0)]),e._v(" "),a("button",{staticClass:"btn btn-secondary btn-sm mr-5",on:{click:e.getReferralReasons}},[a("i",{staticClass:"fas fa-sync-alt"})]),e._v(" "),a("select",{staticClass:"custom-select my-1 mr-sm-2",attrs:{id:"inlineFormCustomSelectPref"},on:{change:e.getNationalities}},[a("option",{attrs:{value:"-1",disabled:""}},[e._v("Worker...")])])]),e._v(" "),a("div",{staticClass:"row mt-3"},[a("table",{staticClass:"border table table-hover"},[e._m(1),e._v(" "),e.referralReasons?a("tbody",e._l(e.referralReasons,(function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(t.name))]),e._v(" "),a("td",[a("span",{staticClass:"clickable ml-2",on:{click:function(a){return e.showEditReferralReasonModal(t)}}},[a("i",{staticClass:"fas fa-pencil-alt blue"})]),e._v(" "),a("span",{staticClass:"clickable ml-2",on:{click:function(a){return e.deleteReferralReason(t.id)}}},[a("i",{staticClass:"fa fa-trash red"})])])])})),0):e._e()])])]),e._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"referralReasonModal",tabindex:"-1","aria-labelledby":"referralReasonModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{directives:[{name:"show",rawName:"v-show",value:!e.editMode,expression:"!editMode"}],staticClass:"modal-title",attrs:{id:"referralReasonModalLabel"}},[e._v("Create New referralReason")]),e._v(" "),a("h5",{directives:[{name:"show",rawName:"v-show",value:e.editMode,expression:"editMode"}],staticClass:"modal-title",attrs:{id:"referralReasonModalLabel"}},[e._v("Edit referralReason")]),e._v(" "),e._m(2)]),e._v(" "),a("form",{on:{submit:function(t){t.preventDefault(),e.editMode?e.updateReferralReason():e.createReferralReason()}}},[a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"name"}},[e._v("Name")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"text",name:"name"},domProps:{value:e.form.name},on:{input:function(t){t.target.composing||e.$set(e.form,"name",t.target.value)}}}),e._v(" "),a("HasError",{attrs:{form:e.form,field:"name"}})],1)]),e._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Close")]),e._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:!e.editMode,expression:"!editMode"}],staticClass:"btn btn-success",attrs:{type:"submit"}},[e._v("Create")]),e._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:e.editMode,expression:"editMode"}],staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("Update")])])])])])])])}),[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("b",[e._v(" Referral Reasons")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("Name")]),e._v(" "),a("th",[e._v("Modify")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("Ã—")])])}],!1,null,null,null).exports}}]);
//# sourceMappingURL=referralReasons.js.map